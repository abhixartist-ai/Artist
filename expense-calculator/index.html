<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Monthly Visit Tracker</title>  <style>
    body{
      margin:0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #667eea, #764ba2);
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:flex-start;
      padding:20px;
    }
    .card{
      background:#fff;
      width:100%;
      max-width:900px;
      border-radius:16px;
      box-shadow:0 10px 25px rgba(0,0,0,0.15);
      padding:20px;
    }
    h1{
      margin:0 0 15px;
      text-align:center;
      color:#333;
    }
    .controls{
      display:flex;
      justify-content:center;
      gap:10px;
      margin-bottom:15px;
      flex-wrap:wrap;
    }
    select{
      padding:8px 12px;
      border-radius:8px;
      border:1px solid #ccc;
      font-size:14px;
    }
    table{
      width:100%;
      border-collapse:collapse;
    }
    th, td{
      padding:10px;
      border:1px solid #ddd;
      text-align:center;
      font-size:14px;
    }
    th{
      background:#f5f6fa;
    }
    .pending{
      background:#ffebeb;
      color:#c0392b;
      font-weight:bold;
    }
    .done{
      background:#e8fff1;
      color:#27ae60;
      font-weight:bold;
    }
    .area{
      color:#000;
      font-weight:normal;
    }
    input[type="date"], input[type="text"]{
      width:100%;
      padding:6px;
      border-radius:6px;
      border:1px solid #ccc;
      font-size:13px;
      box-sizing:border-box;
    }
    @media(max-width:600px){
      th, td{font-size:12px; padding:8px;}
    }
  </style></head>
<body>
  <div class="card">
    <h1>Monthly Visit Tracker</h1><div class="controls">
  <select id="yearSelect"></select>
  <select id="monthSelect"></select>
</div>

<table>
  <thead>
    <tr>
      <th>Area Name</th>
      <th>Visit Date</th>
      <th>Remark</th>
    </tr>
  </thead>
  <tbody id="tableBody"></tbody>
</table>

  </div><script>
const areas = ["Sailana","Birmaval","Raoti","Ratlam","Neemuch","Mandsor"];
const yearSelect = document.getElementById("yearSelect");
const monthSelect = document.getElementById("monthSelect");
const tableBody = document.getElementById("tableBody");

function loadYearMonth(){
  const now = new Date();
  const currentYear = now.getFullYear();
  const currentMonth = now.getMonth(); // 0-based

  yearSelect.innerHTML = '';
  for(let y=currentYear-1; y<=currentYear+1; y++){
    const opt = document.createElement('option');
    opt.value = y;
    opt.textContent = y;
    yearSelect.appendChild(opt);
  }

  monthSelect.innerHTML = '';
  for(let m=0; m<12; m++){
    const d = new Date(0, m);
    const opt = document.createElement('option');
    opt.value = m+1; // 1-based month for key
    opt.textContent = d.toLocaleString('default',{month:'long'});
    monthSelect.appendChild(opt);
  }

  yearSelect.value = currentYear;
  monthSelect.value = currentMonth+1;
}

function getKey(){
  const y = yearSelect.value;
  const m = String(monthSelect.value).padStart(2,'0');
  return `${y}-${m}`;
}

function loadTable(){
  tableBody.innerHTML='';
  const key = getKey();
  const data = JSON.parse(localStorage.getItem(key)|| '{}');

  areas.forEach(area=>{
    const tr = document.createElement('tr');

    const tdArea = document.createElement('td');
    tdArea.textContent = area;
    tdArea.className = 'area';

    const tdDate = document.createElement('td');
    const dateInput = document.createElement('input');
    dateInput.type='date';
    dateInput.value = data[area]?.date || '';

    const tdRemark = document.createElement('td');
    const remarkInput = document.createElement('input');
    remarkInput.type='text';
    remarkInput.placeholder='Remark';
    remarkInput.value = data[area]?.remark || '';

    function updateStatus(){
      tr.className = dateInput.value ? 'done':'pending';
      data[area] = {date:dateInput.value, remark:remarkInput.value};
      localStorage.setItem(key, JSON.stringify(data));
    }

    dateInput.addEventListener('change',updateStatus);
    remarkInput.addEventListener('input',updateStatus);

    tdDate.appendChild(dateInput);
    tdRemark.appendChild(remarkInput);

    tr.appendChild(tdArea);
    tr.appendChild(tdDate);
    tr.appendChild(tdRemark);

    tableBody.appendChild(tr);
    updateStatus();
  });
}

yearSelect.addEventListener('change', loadTable);
monthSelect.addEventListener('change', loadTable);

loadYearMonth();
loadTable();
</script></body>
</html>